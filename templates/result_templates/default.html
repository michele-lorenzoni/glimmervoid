{% from 'simple/macros.html' import result_header, result_sub_header, result_sub_footer, result_footer with context %}

<!-- SUPER DEBUG VISIBILE -->
<div style="background: red; color: white; font-size: 20px; padding: 20px; margin: 10px; border: 5px solid yellow;">
  ‚ö†Ô∏è CUSTOM TEMPLATE CARICATO! ‚ö†Ô∏è
</div>

{% set highlight_urls = settings.ui.highlight_urls or [] %}

<!-- DEBUG per questo risultato -->
<div style="font-size: 14px; background: yellow; padding: 10px; margin: 5px; border: 3px solid black;">
  <strong>üîç DEBUG RISULTATO:</strong><br>
  URL: <strong>{{ result.url }}</strong><br>
  Highlight URLs configurati: <strong>{{ highlight_urls }}</strong><br>
  Match trovato: <strong>{{ result.url in highlight_urls }}</strong>
</div>

<div class="{% if result.url in highlight_urls %}highlight-url{% endif %}" style="border: 3px solid blue; padding: 10px;">

{{ result_header(result, favicons, image_proxify) -}}
{{- result_sub_header(result) -}}
{% if result.iframe_src -%}
<p class="altlink"><a class="btn-collapse collapsed media-loader disabled_if_nojs" data-target="#result-media-{{ index }}" data-btn-text-collapsed="{{ _('show media') }}" data-btn-text-not-collapsed="{{ _('hide media') }}">{{ icon_small('play') }} {{ _('show media') }}</a></p>
{%- endif %}
{%- if result.content %}
  <p class="content">
    {{ result.content|safe }}
  </p>
{%- else %}
  <p class="content empty_element">
    {{ _('This site did not provide any description.')|safe }}
  </p>
{% endif -%}

{{- result_sub_footer(result) -}}
{% if result.iframe_src -%}
<div id="result-media-{{ index }}" class="embedded-content invisible">
  <iframe data-src="{{result.iframe_src}}" frameborder="0" allowfullscreen></iframe>
</div>
{%- endif %}
{% if result.audio_src -%}
<div id="result-media-{{ index }}" class="audio-control">
  <audio controls><source src="{{result.audio_src}}"></audio>
</div>
{%- endif %}
{{- result_footer(result) }}

</div>
